Rectangle.java


package com.kharlamov.d;

public class Rectangle {
    private double width;
    private double height;
    private double angle; // завжди 90 градусів

    public Rectangle() {
        this.width = 0.0;
        this.height = 0.0;
        this.angle = 90.0;
    }

    public Rectangle(double width, double height) {
        if (width < 0 || height < 0) {
            throw new IllegalArgumentException("Width and height must be non-negative.");
        }
        this.width = width;
        this.height = height;
        this.angle = 90.0;
    }

    public double getWidth() {
        return width;
    }

    public double getHeight() {
        return height;
    }

    public double getAngle() {
        return angle;
    }

    public void setWidth(double width) {
        if (width < 0) {
            throw new IllegalArgumentException("Width must be non-negative.");
        }
        this.width = width;
    }

    public void setHeight(double height) {
        if (height < 0) {
            throw new IllegalArgumentException("Height must be non-negative.");
        }
        this.height = height;
    }

    public void setAngle(double angle) {
        if (angle != 90.0) {
            throw new UnsupportedOperationException("Rectangle angle must always be 90 degrees.");
        }
        this.angle = 90.0;
    }

    public double calculateArea() {
        return width * height;
    }

    public double calculatePerimeter() {
        return 2 * (width + height);
    }

    public double getDiagonal() {
        return Math.sqrt(width * width + height * height);
    }
}


RectangleTest.java


package com.kharlamov.d;

import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

class RectangleTest {

    @Test
    void testSetWidthAndGetWidth() {
        Rectangle rect = new Rectangle();
        rect.setWidth(7.0);
        assertEquals(7.0, rect.getWidth());
    }

    @Test
    void testSetHeightAndGetHeight() {
        Rectangle rect = new Rectangle();
        rect.setHeight(4.0);
        assertEquals(4.0, rect.getHeight());
    }

    @Test
    void testSetNegativeWidthThrowsException() {
        Rectangle rect = new Rectangle();
        assertThrows(IllegalArgumentException.class, () -> rect.setWidth(-2.0));
    }

    @Test
    void testSetNegativeHeightThrowsException() {
        Rectangle rect = new Rectangle();
        assertThrows(IllegalArgumentException.class, () -> rect.setHeight(-3.0));
    }

    @Test
    void testSetAngleWith90Allowed() {
        Rectangle rect = new Rectangle();
        rect.setAngle(90.0);
        assertEquals(90.0, rect.getAngle());
    }

    @Test
    void testSetAngleNot90ThrowsException() {
        Rectangle rect = new Rectangle();
        assertThrows(UnsupportedOperationException.class, () -> rect.setAngle(45.0));
    }

    @Test
    void testCalculateArea() {
        Rectangle rect = new Rectangle();
        rect.setWidth(4.0);
        rect.setHeight(5.0);
        assertEquals(20.0, rect.calculateArea());
    }

    @Test
    void testCalculatePerimeter() {
        Rectangle rect = new Rectangle();
        rect.setWidth(4.0);
        rect.setHeight(5.0);
        assertEquals(18.0, rect.calculatePerimeter());
    }

    @Test
    void testGetDiagonal() {
        Rectangle rect = new Rectangle();
        rect.setWidth(3.0);
        rect.setHeight(4.0);
        assertEquals(5.0, rect.getDiagonal()); // 3-4-5 трикутник
    }
}
